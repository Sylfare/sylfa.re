---
import { render } from "astro:content";
import { type Changelog } from "../content.config";
import type { CollectionEntry } from "astro:content";
import Section from "./Section.astro";
type Props = {
    changelog: CollectionEntry<'changelog'>,
};
const { changelog } = Astro.props;
const date = changelog.data;
// const year = changelog.date.getFullYear();
// const month = changelog.date.getMonth() + 1;
// const day = changelog.date.getDate();

function pad(str: string |Â number, length: number, character: string) {
    return str.toString().padStart(length, character);
}

function formatDate(date: {year: number, month?: number, day?: number}): string {
    return ` (${[date.day, date.month, date.year].filter(n => typeof n !== "undefined").map(n => pad(n, 2, '0')).join('/')})`;
}

const { Content } = await render(changelog);
---

<Section title={`${changelog.data.version} ${changelog.data.name && " - " + changelog.data.name} ${changelog.data.date && formatDate(changelog.data.date)}`}>
   <Content /> 
</Section>



